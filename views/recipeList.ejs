<%- include('partials/header.ejs') %>
<%- include('partials/nav.ejs') %>



<div class="mainBox">
    <div class="page-header">
        <h1>Community Recipes</h1>
        <a href="/addRecipe" class="btn btn-add">+ Add New Recipe</a>
    </div>

    <% if (recipes && recipes.length > 0) { %>
        <p class="results-count"><%= recipes.length %> recipe(s) available</p>
        
        <div class="recipe-grid">
            <% for (let recipe of recipes) { %>
                <div class="recipe-card-large">
                    <div class="recipe-image">
                        <img src="<%= recipe.img_url %>" alt="<%= recipe.title %>">
                    </div>
                    
                    <div class="recipe-content">
                        <h2><%= recipe.title %></h2>
                        
                        <div class="recipe-meta">
                            <span class="meta-item">üçΩÔ∏è <%= recipe.cuisine %></span>
                            <span class="meta-item">üç¥ <%= recipe.meal_type %></span>
                            <span class="meta-item">ü•ó <%= recipe.diet %></span>
                            <span class="meta-item">üí≤ $<%= recipe.price ? parseFloat(recipe.price).toFixed(2) : '0.00' %></span>
                            <span class="meta-item">‚è±Ô∏è <%= recipe.cook_time %> min</span>
                        </div>
                        
                        <div class="nutrition-bar">
                            <div class="nutrition-item">
                                <span class="nutrition-value"><%= recipe.fat %>g</span>
                                <span class="nutrition-label">Fat</span>
                            </div>
                            <div class="nutrition-item">
                                <span class="nutrition-value"><%= recipe.carb %>g</span>
                                <span class="nutrition-label">Carbs</span>
                            </div>
                            <div class="nutrition-item">
                                <span class="nutrition-value"><%= recipe.protein %>g</span>
                                <span class="nutrition-label">Protein</span>
                            </div>
                        </div>
                        
                        <div class="recipe-details">
                            <h3>Ingredients</h3>
                            <p><%= recipe.ingredients %></p>
                            
                            <h3>Instructions</h3>
                            <p><%= recipe.instructions %></p>
                        </div>

                
                    </div>
                </div>
            <% } %>
        </div>
    <% } else { %>
        <div class="empty-state">
            <p>No recipes found.</p>
            <a href="/addRecipe" class="btn">Add Your First Recipe</a>
        </div>
    <% } %>
</div>

    

<%- include('partials/footer.ejs') %>
