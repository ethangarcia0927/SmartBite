<%- include('partials/header.ejs') %>
<%- include('partials/nav.ejs') %>



<div class="mainBox">
    <div class="page-header">
        <h1>All Recipes</h1>
        <a href="/addRecipe" class="btn btn-add">+ Add New Recipe</a>
    </div>

    <% if (recipes && recipes.length > 0) { %>
        <p class="results-count"><%= recipes.length %> recipe(s) available</p>
        
        <div class="recipe-grid">
            <% for (let recipe of recipes) { %>
                <div class="recipe-card-large">
                    <div class="recipe-image">
                        <img src="<%= recipe.img_url %>" alt="<%= recipe.title %>">
                        <span class="badge budget-badge"><%= recipe.budget_level %></span>
                    </div>
                    
                    <div class="recipe-content">
                        <h2><%= recipe.title %></h2>
                        
                        <div class="recipe-meta">
                            <span class="meta-item">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
                                </svg>
                                <%= recipe.cook_time %> min
                            </span>
                            <span class="meta-item">
                                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                    <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                </svg>
                                <%= recipe.health_goal %>
                            </span>
                        </div>
                        
                        <div class="nutrition-bar">
                            <div class="nutrition-item">
                                <span class="nutrition-value"><%= recipe.fat %>g</span>
                                <span class="nutrition-label">Fat</span>
                            </div>
                            <div class="nutrition-item">
                                <span class="nutrition-value"><%= recipe.carb %>g</span>
                                <span class="nutrition-label">Carbs</span>
                            </div>
                            <div class="nutrition-item">
                                <span class="nutrition-value"><%= recipe.protein %>g</span>
                                <span class="nutrition-label">Protein</span>
                            </div>
                        </div>
                        
                        <div class="recipe-details">
                            <h3>Ingredients</h3>
                            <p><%= recipe.ingredients %></p>
                            
                            <h3>Instructions</h3>
                            <p><%= recipe.instructions %></p>
                        </div>

                
                    </div>
                </div>
            <% } %>
        </div>
    <% } else { %>
        <div class="empty-state">
            <p>No recipes found.</p>
            <a href="/addRecipe" class="btn">Add Your First Recipe</a>
        </div>
    <% } %>
</div>

    

<%- include('partials/footer.ejs') %>
